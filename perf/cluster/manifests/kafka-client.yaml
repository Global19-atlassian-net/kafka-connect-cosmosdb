apiVersion: v1
kind: Pod
metadata:
  name: kafka-perf-client
spec:
  containers:
  - name: kafka-perf-client
    image: mssivamu/kafka-perf-cosmosdb:latest
    args:
      - --topic
      - connect-test
      - --num-records
      - '1000'
      - --payload-file
      - /etc/payload/small.txt
      - --throughput 
      - '10'
      - --producer-props
      - bootstrap.servers=kafka-cp-kafka-headless:9092
      - buffer.memory=67108864
      - batch.size=8196
  restartPolicy: Never
